<div class="watchlist-container p-3">
  <h4>Watchlist</h4>
  <div class="p-shadow-20 p-4 mt-3">
    <div class="filter-options d-flex justify-content-between w-50">
      <div
        class="d-flex align-items-center"
        [ngStyle]="{ color: 'var(--primary-color)' }"
      >
        <p-checkbox
          name="group1"
          value="Completed"
          [(ngModel)]="selectedFilter"
          inputId="completed"
        ></p-checkbox>
        <p-tag
          styleClass="p-mr-2 ml-2"
          for="completed"
          severity="info"
          value="Completed ({{ numberCompleted }})"
        ></p-tag>
      </div>

      <div class="d-flex align-items-center">
        <p-checkbox
          name="group1"
          value="Watching"
          [(ngModel)]="selectedFilter"
          inputId="watching"
        ></p-checkbox>
        <p-tag
          styleClass="p-mr-2 ml-2"
          for="watching"
          severity="success"
          value="Watching ({{ numberWatching }})"
        ></p-tag>
      </div>

      <div class="d-flex align-items-center">
        <p-checkbox
          name="group1"
          value="Considering"
          [(ngModel)]="selectedFilter"
          inputId="considering"
        ></p-checkbox>
        <p-tag
          styleClass="p-mr-2 ml-2"
          for="considering"
          severity="warning"
          value="Considering ({{ numberConsidering }})"
        ></p-tag>
      </div>

      <div class="d-flex align-items-center">
        <p-checkbox
          name="group1"
          value="Skipping"
          [(ngModel)]="selectedFilter"
          inputId="skipping"
        ></p-checkbox>
        <p-tag
          styleClass="p-mr-2 ml-2"
          for="skipping"
          severity="danger"
          value="Skipping ({{ numberSkipping }})"
        ></p-tag>
      </div>
    </div>
  </div>
  <div class="p-shadow-20 p-4 mt-4">
    <div *ngFor="let show of shows; let i = index">
      <div class="show-container d-flex align-items-center my-3 pb-3">
        <img height="90" src="{{ show.poster }}" class="mr-2" />
        <h3>{{ show.title }}</h3>
        <div class="d-flex ml-auto align-items-center">
          <p-tag
            styleClass="p-mr-2 ml-2"
            for="watching"
            severity="{{ setStatusColor(show.status) }}"
            value="{{ setStatus(show.status) }}"
          ></p-tag>
          <div class="episode-counter ml-4">
            <div class="d-flex align-items-center ml-3">
              <i
                pTooltip="Progress"
                tooltipPosition="top"
                class="pi pi-eye mr-2"
              ></i>
              {{ show.currentEpisode ? show.currentEpisode : 0 }} /
              {{ show.totalEpisodes ? show.totalEpisodes : "1" }}
              <button
                pButton
                pRipple
                type="button"
                icon="pi pi-plus"
                class="p-button-rounded p-button-text"
              ></button>
            </div>
          </div>
          <div class="ml-4">
            <p-rating [(ngModel)]="show.rating" [cancel]="false"></p-rating>
          </div>
          <button
            pButton
            pRipple
            pTooltip="Edit watchlist element"
            tooltipPosition="top"
            type="button"
            icon="pi pi-pencil"
            class="p-button-rounded p-button-text ml-3"
            (click)="openWatchlistElementDetail(show)"
          ></button>
        </div>
      </div>
    </div>
  </div>
</div>
