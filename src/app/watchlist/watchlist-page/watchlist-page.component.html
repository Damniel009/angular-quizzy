<div *ngIf="shows" class="watchlist-container p-3">
  <h4>Watchlist</h4>
  <div class="p-shadow-20 p-4 mt-3">
    <div class="filter-options d-flex justify-content-between w-50">
      <div
        class="d-flex align-items-center"
        [ngStyle]="{ color: 'var(--primary-color)' }"
      >
        <p-checkbox
          name="group1"
          value="Completed"
          [(ngModel)]="selectedFilter"
          (onChange)="filterResults($event.checked, 'finished')"
          inputId="completed"
        ></p-checkbox>
        <p-tag
          styleClass="p-mr-2 ml-2"
          for="completed"
          severity="info"
          value="Finished ({{ statusNumbers.finished }})"
        ></p-tag>
      </div>

      <div class="d-flex align-items-center">
        <p-checkbox
          name="group1"
          value="Watching"
          [(ngModel)]="selectedFilter"
          (onChange)="filterResults($event.checked, 'watching')"
          inputId="watching"
        ></p-checkbox>
        <p-tag
          styleClass="p-mr-2 ml-2"
          for="watching"
          severity="success"
          value="Watching ({{ statusNumbers.watching }})"
        ></p-tag>
      </div>

      <div class="d-flex align-items-center">
        <p-checkbox
          name="group1"
          value="Considering"
          [(ngModel)]="selectedFilter"
          (onChange)="filterResults($event.checked, 'planned')"
          inputId="considering"
        ></p-checkbox>
        <p-tag
          styleClass="p-mr-2 ml-2"
          for="considering"
          severity="warning"
          value="Planned ({{ statusNumbers.planned }})"
        ></p-tag>
      </div>

      <div class="d-flex align-items-center">
        <p-checkbox
          name="group1"
          value="Skipping"
          [(ngModel)]="selectedFilter"
          (onChange)="filterResults($event.checked, 'skipping')"
          inputId="skipping"
        ></p-checkbox>
        <p-tag
          styleClass="p-mr-2 ml-2"
          for="skipping"
          severity="danger"
          value="Skipping ({{ statusNumbers.skipping }})"
        ></p-tag>
      </div>
    </div>
  </div>

  <div *ngIf="shows.length > 0" class="p-shadow-20 p-4 mt-4">
    <div *ngFor="let show of shows; let i = index">
      <div
        *ngIf="show.isVisible"
        class="show-container d-flex align-items-center my-3 pb-3"
      >
        <img height="90" src="{{ show.poster }}" class="mr-2" />
        <h3 class="title" (click)="openShowPage(show.showid, show.title)">{{ show.title }}</h3>
        <div class="d-flex ml-auto align-items-center">
          <p-tag
            styleClass="p-mr-2 ml-2"
            for="watching"
            severity="{{ setStatusColor(show.currentSituation) }}"
            value="{{ setStatus(show.currentSituation) }}"
          ></p-tag>
          <div class="episode-counter ml-4">
            <div class="d-flex align-items-center ml-3">
              <i
                pTooltip="Progress"
                tooltipPosition="top"
                class="pi pi-eye mr-2"
              ></i>
              {{ show.episodesWatched ? show.episodesWatched : 0 }} /
              {{ show.totalEpisodes ? show.totalEpisodes : "1" }}
              <button
                pButton
                pRipple
                type="button"
                icon="pi pi-plus"
                class="p-button-rounded p-button-text"
                (click)="increaseProgress(show.watchlistID)"
                [disabled]="show.episodesWatched === show.totalEpisodes"
              ></button>
            </div>
          </div>
          <div class="ml-4">
            <p-rating
              [(ngModel)]="show.rating"
              [cancel]="false"
              (onRate)="changeRating($event.value, show.watchlistID)"
            ></p-rating>
          </div>
          <button
            pButton
            pRipple
            pTooltip="Edit watchlist element"
            tooltipPosition="top"
            type="button"
            icon="pi pi-pencil"
            class="p-button-rounded p-button-text ml-3"
            (click)="openWatchlistElementDetail(show)"
          ></button>
        </div>
      </div>
    </div>
  </div>

  <!-- <div *ngIf="filterResultEmpty" class="p-shadow-20 p-4 mt-4">
    <h3>No watchlist elements to show</h3>
  </div> -->
</div>
